FROM golang:1.20 AS BUILDER
WORKDIR /app
COPY . .
RUN go build -o main

FROM alpine:latest AS FINAL
WORKDIR /app
COPY --from=BUILDER /app .
ENTRYPOINT ["./main"]